<div class="container">
    <table class="table">
        <thead>
            <tr>
                <th scope="col">No.</th>
                <th scope="col">Name</th>
                <th scope="col">Email</th>
                <th scope="col">Phone Number</th>
                <th scope="col">City</th>
                <th scope="col">Pincode</th>
            </tr>
        </thead>
        <tbody>
            <br>
            <tr *ngFor="let data of parentData; index as i">
                <div *ngIf="i!=0; then firstBlock; else emptyBlock"></div>
                <ng-template #firstBlock>
                    <th scope="row">{{i}}</th>
                    <td>{{data.name}}</td>
                    <td>{{data.email}}</td>
                    <td>{{data.phoneNum}}</td>
                    <td>{{data.city}}</td>
                    <td>{{data.pincode}}</td>
                    <button class="btn btn-success" (click)="onUpdate(data)">
                        Update Data
                    </button>
                    &nbsp;&nbsp;&nbsp;
                    <button class="btn btn-danger" (click)="onDelete(i)">
                        Delete
                    </button>
                </ng-template>
                <ng-template #emptyBlock></ng-template>
            </tr>
        </tbody>
    </table>
    <br>
    <div *ngIf="updateSelected">
        <form #userUpdateForm="ngForm" autocomplete="off" novalidate>
            <div class="form-group">
                <label>Name</label>
                <input type="text" #userName="ngModel" [class.is-invalid]="userName.invalid && userName.touched" class="form-control"
                    [(ngModel)]="updateSelected.name" name="name" required>
                <small class="text-danger" [class.d-none]="userName.valid || userName.untouched">Name is Required !!!</small>
            </div>

            <div class="form-group">
                <label>Email</label>
                <input type="email" #userEmail="ngModel" [class.is-invalid]="userEmail.invalid && userEmail.touched"
                    class="form-control" [(ngModel)]="updateSelected.email" name="email" required>
                <small class="text-danger" [class.d-none]="userEmail.valid || userEmail.untouched">Email is Required!!!</small>
            </div>

            <div class="form-group">
                <label>Phone number</label>
                <input type="number" #userPhoneNum="ngModel" pattern="^\d{10}$" [class.is-invalid]="userPhoneNum.invalid && userPhoneNum.touched"
                    class="form-control" [(ngModel)]="updateSelected.phoneNum" name="phoneNum">
                <small class="text-danger" [class.d-none]="userPhoneNum.valid || userPhoneNum.untouched">Phone Number
                    is
                    Required
                    !!!</small>
            </div>

            <div class="form-group">
                <label>City</label>
                <input type="text" #userCity="ngModel" [class.is-invalid]="userCity.invalid && userCity.touched" class="form-control"
                    [(ngModel)]="updateSelected.city" name="city" required>
                <small class="text-danger" [class.d-none]="userCity.valid || userCity.untouched">City is Required !!!</small>
            </div>

            <div class="form-group">
                <label>Pincode</label>
                <input type="number" #userPincode="ngModel" pattern="^\d{6}$" [class.is-invalid]="userPincode.invalid && userPincode.touched"
                    class="form-control" [(ngModel)]="updateSelected.pincode" name="pincode">
                <small class="text-danger" [class.d-none]="userPincode.valid || userPincode.untouched">Pincode is
                    Required
                    !!!</small>
            </div>

            <button (click)="updateDone()" [disabled]="userUpdateForm.form.invalid" class="btn btn-success" type="submit">Done with editing</button>
        </form>
    </div>
</div>